<div class="max-w-md mx-auto mt-16 p-6 bg-gray-800 text-white rounded-xl shadow-lg">
  <h2 class="text-3xl font-bold mb-6 text-center">Connexion</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
    <div>
      <label class="block text-sm">Nom d'utilisateur</label>
      <input type="text" formControlName="username" class="w-full p-2 rounded text-black" autocomplete="username" />
      <p class="mt-1 text-sm text-red-300" *ngIf="f.username.touched && f.username.invalid">
        <span *ngIf="f.username.errors?.['required']">Le nom d'utilisateur est requis.</span>
        <span *ngIf="f.username.errors?.['minlength']">Minimum 3 caractères.</span>
      </p>
    </div>

    <div>
      <label class="block text-sm">Mot de passe</label>
      <input type="password" formControlName="password" class="w-full p-2 rounded text-black"
        autocomplete="current-password" />
      <p class="mt-1 text-sm text-red-300" *ngIf="f.password.touched && f.password.invalid">
        Le mot de passe est requis.
      </p>
    </div>

    <!-- Remember me -->
    <label class="flex items-center gap-2 select-none">
      <input type="checkbox" formControlName="rememberMe" class="h-4 w-4" />
      <span class="text-sm">Se souvenir de moi</span>
    </label>

    <!-- Submit with visible spinner -->
    <button type="submit"
      class="w-full mt-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 rounded disabled:opacity-60 flex items-center justify-center gap-2"
      [disabled]="form.invalid || isLoading" [attr.aria-busy]="isLoading">
      <svg *ngIf="isLoading" class="animate-spin h-5 w-5" viewBox="0 0 24 24" aria-hidden="true">
        <circle cx="12" cy="12" r="10" stroke="white" stroke-width="4" fill="none" opacity="0.25"></circle>
        <path d="M22 12a10 10 0 0 1-10 10" stroke="white" stroke-width="4" fill="none"></path>
      </svg>
      <span>{{ isLoading ? 'Connexion…' : 'Se connecter' }}</span>
    </button>
  </form>
</div>